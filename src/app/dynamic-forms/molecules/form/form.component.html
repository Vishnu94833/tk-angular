<form [formGroup]="form"  style="background-color: bisque;">
    <ng-container *ngFor="let segmentObj of formData.segments">
        <ng-container *ngIf="segment === segmentObj.title">
            <div [formArrayName]="segmentObj.title" class="flex-container gap-1">
                <ng-container *ngFor="let field of segmentObj.params; let i = index">
                    <div [formGroupName]="i" style="width: 100%;">
                        <ng-container [ngSwitch]="field.type">
                            <mat-form-field style="width: 100%;">
                                <ng-container *ngSwitchCase="0">
                                    <input type="text" matInput [formControlName]="field.labelDesc"
                                        [placeholder]="field.placeholder" [required]="field.required">
                                </ng-container>
                                <ng-container *ngSwitchCase="1">
                                    <input type="number" matInput [formControlName]="field.labelDesc"
                                        [placeholder]="field.placeholder">
                                </ng-container>
                                <ng-container *ngSwitchCase="2">
                                    <input type="email" matInput [formControlName]="field.labelDesc"
                                        [placeholder]="field.placeholder">
                                </ng-container>
                                <ng-container *ngSwitchCase="3">
                                    <input type="date" matInput [formControlName]="field.labelDesc"
                                        [placeholder]="field.placeholder">
                                </ng-container>
                                <ng-container *ngSwitchCase="4">
                                    <mat-select [formControlName]="field.labelDesc">
                                        <mat-option *ngFor="let option of field.selectData" [value]="option.value">
                                            {{option.description}}
                                        </mat-option>
                                    </mat-select>
                                </ng-container>
                            </mat-form-field>
                        </ng-container>
                    </div>
                </ng-container>
            </div>
            <div class="flex-container gap-1">
                <ng-container *ngFor="let action of segmentObj.actions">
                    <ng-container [ngSwitch]="action.actionType">
                            <ng-container *ngSwitchCase="'reset'">
                                <button mat-button
                                    (click)="formSubmitted(action.actionType,form.get(segmentObj.title))">{{action.label}}</button>
                            </ng-container>
                            <ng-container *ngSwitchCase="'submit'">
                                <button mat-button [disabled]="form.invalid"
                                    (click)="formSubmitted(action.actionType,form.get(segmentObj.title))">{{action.label}}</button>
                            </ng-container>
                    </ng-container>
                </ng-container>
            </div>
        </ng-container>
    </ng-container>
</form>